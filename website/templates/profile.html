{% extends "base.html" %}
{% block content %}

<h3>{{ _("User profile") }}</h3>

<form method="post">

    <div class="form-group">
        <label>{{ _("First name") }}</label>
        <input type="text" name="first_name" class="form-control"
            value="{{ user.first_name }}" required>
    </div>

    <div class="form-group">
        <label>{{ _("Last name") }}</label>
        <input type="text" name="last_name" class="form-control"
            value="{{ user.last_name }}" required>
    </div>

    <div class="form-group">
        <label>{{ _("E-mail") }}</label>
        <input type="email" name="email" class="form-control"
            value="{{ user.email }}" required>
    </div>

  {% if is_admin_view %}
  <hr>
  <h5>{{ _("Admin settings") }}</h5>

  <div class="form-check">
    <input type="checkbox"
           name="is_admin"
           class="form-check-input"
           id="is_admin"
           {% if user.is_admin %}checked{% endif %}>
    <label class="form-check-label" for="is_admin">
      {{ _("Admin") }}
    </label>
  </div>

  <div class="form-check mt-2">
    <input type="checkbox"
           name="is_active"
           class="form-check-input"
           id="is_active"
           {% if user.is_active %}checked{% endif %}>
    <label class="form-check-label" for="is_active">
      {{ _("Active user") }}
    </label>
  </div>
  {% endif %}
  {% if not is_admin_view %}

    <hr>
    <h4>{{ _("Change password") }}</h4>

    <div class="form-group mb-3">
      <label>{{ _("Old password") }}</label>
      <input type="password" name="old_password" class="form-control">
    </div>

    <div class="form-group mb-3">
      <label>{{ _("New password") }}</label>
      <input type="password" name="new_password" class="form-control">
    </div>

    <div class="form-group mb-3">
      <label>{{ _("New password again") }}</label>
      <input type="password" name="confirm_password" class="form-control">
    </div>
  {% endif %}
    <div class="buttons box">
      <button class="btn btn-primary mt-3">
        {{ _("Save") }}
      </button>
    
      {% if is_admin_view %}
        <a href="{{ url_for('views.admin_users') }}"
           class="btn btn-secondary mt-3">
           {{ _("Back") }}
        </a>
      {% endif %}
    </div>

</form>

{% endblock %}
